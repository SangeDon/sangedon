<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>CentOS 7上Nginx的安装及基本配置 | Sange</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" href="/img/avatar.jpg"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">CentOS 7上Nginx的安装及基本配置</h1><a id="logo" href="/.">Sange</a><p class="description">心即理</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/record/"><i class="fa fa-book"> 日志</i></a><a href="/guestbook/"><i class="fa fa fa-comments"> 留言</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">CentOS 7上Nginx的安装及基本配置</h1><div class="post-meta">Apr 15, 2019<span> | </span><span class="category"><a href="/categories/中间件/">中间件</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 1.8k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-hourglass-half"></i><span class="post-count"> 8</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="post-content"><a id="more"></a>
<p><em>Nginx</em> (engine x) 是一个高性能的<code>HTTP</code>和<code>反向代理</code>服务，也是一个<code>IMAP/POP3/SMTP</code>服务。由俄罗斯人伊戈尔·赛索耶夫为Rambler.ru站点用<strong>C语言</strong>开发的，第一个公开版本0.1.0发布于2004年10月4日，2011年成立同名公司，以提供支持。其源代码以BSD-like 许可证的形式发布，作为一款轻量级 Web/反向代理 服务器以及电子邮件（IMAP/POP3）代理服务器，其主要特点是每条连接占有内存少，并发能力强，常用于Web服务器、反向代理、负载均衡以及HTTP缓存等场景。</p>
<h2 id="编译安装-推荐"><a href="#编译安装-推荐" class="headerlink" title="编译安装(推荐)"></a>编译安装(推荐)</h2><h3 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h3><h4 id="gcc"><a href="#gcc" class="headerlink" title="gcc"></a>gcc</h4><blockquote>
<p>安装 nginx 需要先将官网下载的源码进行编译，编译依赖 gcc 环境，如果没有 gcc 环境，则需要安装：</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc-c++</span><br></pre></td></tr></table></figure>
<h4 id="PCRE-pcre-devel"><a href="#PCRE-pcre-devel" class="headerlink" title="PCRE pcre-devel"></a>PCRE pcre-devel</h4><blockquote>
<p>PCRE(Perl Compatible Regular Expressions) 是一个Perl库，包括 perl 兼容的正则表达式库。nginx 的 http 模块使用 pcre 来解析正则表达式，所以需要在 linux 上安装 pcre 库，pcre-devel 是使用 pcre 开发的一个二次开发库，nginx也需要此库。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y pcre pcre-devel</span><br></pre></td></tr></table></figure>
<h4 id="zlib"><a href="#zlib" class="headerlink" title="zlib"></a>zlib</h4><blockquote>
<p>zlib 库提供了很多种压缩和解压缩的方式， nginx 使用 zlib 对 http 包的内容进行 gzip ，所以需要在 CentOS上安装 zlib 库。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y zlib zlib-devel</span><br></pre></td></tr></table></figure>
<h4 id="OpenSSL"><a href="#OpenSSL" class="headerlink" title="OpenSSL"></a>OpenSSL</h4><blockquote>
<p>OpenSSL 是一个强大的安全套接字层密码库，囊括主要的密码算法、常用的密钥和证书封装管理功能及 SSL 协议，并提供丰富的应用程序供测试或其它目的使用。<br>nginx 不仅支持 http 协议，还支持 https（即在ssl协议上传输http），所以需要在 CentOS上 安装 OpenSSL 库。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y openssl openssl-devel</span><br></pre></td></tr></table></figure>
<ul>
<li>安装环境综合命令</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install gcc gcc-c++ autoconf automake zlib zlib-devel openssl openssl-devel pcre-devel</span><br></pre></td></tr></table></figure>
<h3 id="Nginx下载及安装"><a href="#Nginx下载及安装" class="headerlink" title="Nginx下载及安装"></a>Nginx下载及安装</h3><ul>
<li><a href="https://nginx.org/en/download.html" target="_blank" rel="noopener">官方下载地址</a></li>
<li>命令行下载</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -c https://nginx.org/download/nginx-1.14.1.tar.gz</span><br></pre></td></tr></table></figure>
<p>成功结果如下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[sange@centos-7 java]$ wget -c https://nginx.org/download/nginx-1.14.1.tar.gz</span><br><span class="line">--2019-04-15 22:58:27--  https://nginx.org/download/nginx-1.14.1.tar.gz</span><br><span class="line">Resolving nginx.org (nginx.org)... 95.211.80.227, 62.210.92.35, 2001:1af8:4060:a004:21::e3</span><br><span class="line">Connecting to nginx.org (nginx.org)|95.211.80.227|:443... connected.</span><br><span class="line">HTTP request sent, awaiting response... 200 OK</span><br><span class="line">Length: 1014040 (990K) [application/octet-stream]</span><br><span class="line">Saving to: ‘nginx-1.14.1.tar.gz’</span><br><span class="line"></span><br><span class="line"><span class="meta">100%</span>[======================================&gt;] 1,014,040    210KB/s   in 4.7s   </span><br><span class="line"></span><br><span class="line">2019-04-15 22:58:33 (210 KB/s) - ‘nginx-1.14.1.tar.gz’ saved [1014040/1014040]</span><br></pre></td></tr></table></figure>
<h3 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf nginx-1.14.1.tar.gz</span><br></pre></td></tr></table></figure>
<h4 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">drwxr-xr-x. 6 sange sange   4096 Apr 15 23:16 auto   # </span><br><span class="line">-rw-r--r--. 1 sange sange 287441 Nov  6 21:52 CHANGES</span><br><span class="line">-rw-r--r--. 1 sange sange 438114 Nov  6 21:52 CHANGES.ru</span><br><span class="line">drwxr-xr-x. 2 sange sange    168 Apr 15 23:16 conf</span><br><span class="line">-rwxr-xr-x. 1 sange sange   2502 Nov  6 21:52 configure</span><br><span class="line">drwxr-xr-x. 4 sange sange     72 Apr 15 23:16 contrib</span><br><span class="line">drwxr-xr-x. 2 sange sange     40 Apr 15 23:16 html</span><br><span class="line">-rw-r--r--. 1 sange sange   1397 Nov  6 21:52 LICENSE</span><br><span class="line">drwxr-xr-x. 2 sange sange     21 Apr 15 23:16 man</span><br><span class="line">-rw-r--r--. 1 sange sange     49 Nov  6 21:52 README</span><br><span class="line">drwxr-xr-x. 9 sange sange     91 Apr 15 23:16 src</span><br></pre></td></tr></table></figure>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>使用默认配置即可，也可自定义配置</p>
<ol>
<li>使用默认配置</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 安装完成后nginx.conf等相关文件及目录即在 /usr/local/nginx 目录下</span><br><span class="line">[sange@centos-7 nginx-1.14.1]$ ./configure --prefix=/usr/local/nginx</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>自定义配置（不推荐）</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">./configure </span><br><span class="line"><span class="meta">#</span> 以下为’./configure‘ 命令的参数，’=‘后为各项参数的默认值</span><br><span class="line">--prefix=/usr/local/nginx  # Nginx安装路径。</span><br><span class="line">--conf-path=/usr/local/nginx/conf/nginx.conf  # 在没有给定-c选项下默认的nginx.conf的路径</span><br><span class="line">--sbin-path=/usr/local/nginx/sbin  # Nginx可执行文件安装路径。</span><br><span class="line">--pid-path=/usr/local/nginx/conf/nginx.pid  # 在nginx.conf中没有指定pid指令的情况下，默认的nginx.pid的路径</span><br><span class="line">--lock-path=/var/lock/nginx.lock  # nginx.lock文件的路径</span><br><span class="line">--error-log-path=/var/log/nginx/error.log  # 在nginx.conf中没有指定error_log指令的情况下，默认的错误日志的路径</span><br><span class="line">--http-log-path=/var/log/nginx/access.log  # 在nginx.conf中没有指定access_log指令的情况下，默认的访问日志的路径</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 其他参数含义，一般默认即可</span><br><span class="line">--with-*  # 表明启用某些功能模块</span><br><span class="line">--without-*  # 表明禁用某些功能模块</span><br></pre></td></tr></table></figure>
<h3 id="编译及安装"><a href="#编译及安装" class="headerlink" title="编译及安装"></a>编译及安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[sange@centos-7 nginx-1.14.1]$ sudo make &amp; make install</span><br></pre></td></tr></table></figure>
<h3 id="操作命令"><a href="#操作命令" class="headerlink" title="操作命令"></a>操作命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[sange@centos-7 nginx-1.14.1]$ whereis nginx  # 查找安装目录</span><br><span class="line">nginx: /usr/local/nginx</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 进入安装目录下的二进制执行文件目录进行相关操作</span><br><span class="line">[sange@centos-7 nginx-1.14.1]$ cd /usr/local/nginx/sbin/  </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 以下为nginx操作命令</span><br><span class="line">./nginx  # 启动 nginx</span><br><span class="line">./nginx -s stop  # 此方式相当于先查出nginx进程id再使用kill命令强制杀掉进程</span><br><span class="line">./nginx -s quit  # 此方式停止步骤是待nginx进程处理任务完毕进行停止</span><br><span class="line">./nginx -s reload  # 当修改 nginx.conf 后重新加载配置文件令其生效</span><br></pre></td></tr></table></figure>
<h3 id="开机自启动"><a href="#开机自启动" class="headerlink" title="开机自启动"></a>开机自启动</h3><p>即在<code>rc.local</code>增加启动代码就可以了。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/rc.local</span><br></pre></td></tr></table></figure>
<p>增加一行 <code>/usr/local/nginx/sbin/nginx</code>，具体如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>!/bin/bash</span><br><span class="line"><span class="meta">#</span> THIS FILE IS ADDED FOR COMPATIBILITY PURPOSES</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> It is highly advisable to create own systemd services or udev rules</span><br><span class="line"><span class="meta">#</span> to run scripts during boot instead of using this file.</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> In contrast to previous versions due to parallel execution during boot</span><br><span class="line"><span class="meta">#</span> this script will NOT be run after all other services.</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> Please note that you must run 'chmod +x /etc/rc.d/rc.local' to ensure</span><br><span class="line"><span class="meta">#</span> that this script will be executed during boot.</span><br><span class="line"></span><br><span class="line">touch /var/lock/subsys/local</span><br><span class="line">/usr/local/nginx/sbin/nginx  # 增加的一行</span><br></pre></td></tr></table></figure>
<p>设置<code>rc.local</code>非root用户执行权限：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 755 rc.local</span><br></pre></td></tr></table></figure>
<h2 id="YUM安装"><a href="#YUM安装" class="headerlink" title="YUM安装"></a>YUM安装</h2><p>在CentOS下，yum源不提供nginx的安装，可以通过切换yum源的方法获取安装yum源，下例为官网的yum源。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rpm -ivh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm</span><br></pre></td></tr></table></figure>
<p>安装命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y nginx</span><br></pre></td></tr></table></figure>
<p>通过<code>whereis nginx</code>查看nginx默认安装路径</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/etc/nginx/  # Nginx默认配置路径，nginx.conf在此</span><br><span class="line">/var/run/nginx.pid  # PID目录</span><br><span class="line">/var/log/nginx/error.log  # 错误日志</span><br><span class="line">/var/log/nginx/access.log  # 访问日志</span><br><span class="line">/usr/share/nginx/html  # 默认站点目录</span><br></pre></td></tr></table></figure>
<p>测试命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nginx -t </span><br><span class="line"><span class="meta">#</span> 测试成功结果</span><br><span class="line">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /etc/nginx/nginx.conf test is successful</span><br></pre></td></tr></table></figure>
<p>开机自启动</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable nginx</span><br></pre></td></tr></table></figure>
<p>操作命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start nginx  # 启动服务</span><br><span class="line">sudo systemctl restart nginx  # 停止服务</span><br><span class="line">sudo systemctl reload nginx  # 重新加载配置</span><br></pre></td></tr></table></figure>
<p>yum卸载nginx命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum remove -y nginx</span><br></pre></td></tr></table></figure>
<h2 id="防火墙问题"><a href="#防火墙问题" class="headerlink" title="防火墙问题"></a>防火墙问题</h2><blockquote>
<p>因CentOS 7 防火墙未开放80端口导致本机不能成功访问虚拟机问题</p>
</blockquote>
<h3 id="CentOS-7-防火墙相关命令"><a href="#CentOS-7-防火墙相关命令" class="headerlink" title="CentOS 7 防火墙相关命令"></a>CentOS 7 防火墙相关命令</h3><p>查看已开放端口</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo firewall-cmd --list-ports</span><br></pre></td></tr></table></figure>
<p>开放<code>80</code>端口</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> ContOS 7 防火墙命令改为 `firewall`, 而7以下的防火墙命令为 `iptables`(且具体命令也不同)</span><br><span class="line">sudo firewall-cmd --zone=public --add-port=80/tcp --permanent</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 其他指令含义：</span><br><span class="line">–zone  #作用域</span><br><span class="line">–add-port=80/tcp  #添加端口，格式为：端口/通讯协议</span><br><span class="line">–permanent  #永久生效，没有此参数重启后失效</span><br></pre></td></tr></table></figure>
<p>设置完成之后需<strong>重启</strong>防火墙</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo firewall-cmd --reload  #重启firewall</span><br><span class="line">sudo systemctl stop firewalld.service  #停止firewall</span><br><span class="line">sudo systemctl disable firewalld.service  #禁止firewall开机启动</span><br></pre></td></tr></table></figure>
<h3 id="CentOS-7以下防火墙相关命令"><a href="#CentOS-7以下防火墙相关命令" class="headerlink" title="CentOS 7以下防火墙相关命令"></a>CentOS 7以下防火墙相关命令</h3><p>开放80端口</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /sbin/iptables -I INPUT -p tcp --dport 80 -j ACCEPT</span><br></pre></td></tr></table></figure>
<p>保存</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /etc/rc.d/init.d/iptables save</span><br></pre></td></tr></table></figure>
<p>查看开放的端口</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /etc/init.d/iptables status</span><br></pre></td></tr></table></figure>
<p>开启与关闭防火墙</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 永久性生效，重启后不会复原</span><br><span class="line">sudo chkconfig iptables on  # 开启</span><br><span class="line">sudo chkconfig iptables off  # 关闭</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 即时生效，重启后复原</span><br><span class="line">sudo service iptables start  # 开启</span><br><span class="line">sudo service iptables stop  # 关闭</span><br></pre></td></tr></table></figure>
<ul>
<li><p>参考文章</p>
<p><a href="https://www.linuxidc.com/Linux/2016-09/134907.htm" target="_blank" rel="noopener">mafly</a></p>
<p><a href="https://blog.csdn.net/jack85986370/article/details/51169203" target="_blank" rel="noopener">Deep_Deep_Learning</a></p>
<p><a href="https://segmentfault.com/a/1190000014750417" target="_blank" rel="noopener">金武飞扬</a></p>
<p><a href="https://segmentfault.com/a/1190000018791822" target="_blank" rel="noopener">Guoye</a></p>
</li>
</ul>
</div><iframe src="/donate/?AliPayQR=/img/alipayimg.png&amp;WeChatQR=/img/wechatpayimg.png&amp;GitHub=null&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:205px; width:100%;" frameborder="0" scrolling="no"></iframe><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>Sange</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="/paper/CentOS 7上nginx安装及相关配置/">http://sangedon.cn/paper/CentOS 7上nginx安装及相关配置/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0 CN</a> 许可协议。转载请注明出处！</li></ul></div><br><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a class="article-share-link" data-url="http://sangedon.cn/paper/CentOS 7上nginx安装及相关配置/" data-id="cjykx9olo001qxts6c6wi3j98" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACtklEQVR42u3aQW7DMAwEwPz/0+21QBpnSYpODuNTkdaxRgUsYsnHI75+/lzPnzz/9vne5HuSex8bFx4eHt5g6a+WW11Q8tsqKdncf74TDw8Pb41XfaEnj8mROSNfMx4eHt738KqP77GTgh4PDw/v+3nJXUkB3YsV8PDw8L6Nl5S5SUldDYLzjV7PWvDw8PBq+UDzpfypn1f6e3h4eHjjrvokRLg+SOaNt2ideHh4eAu8s636U6Trgjt5Lh4eHt6dvCRiSLYgWei8/dZMqfHw8PCO8pKYtfrgZAvyVCH5HA8PD+9OXi9IzUOE3iBCLxzBw8PD2+Cdek3nS8/v7YEf5XMDDw8Pr8bLG0t5eJFHt5NyGQ8PD+9TvPxheeQ6OU4Ot9zw8PDwFni9iCEvwZNRqlOxcjR0hYeHhzfmVWOIZNHVYjrfuPyQwMPDw9vj9WLWXkhxquzOAxE8PDy8PV41dEh4p170+RYXDjk8PDy8Q7xJq6m6rDyGmAw34OHh4W3wJmFEHkBUw+K8tfYmEMHDw8O7hTdpek2aVdUjISrB8fDw8NZ4SSBbfZX3hqsmDbaXBwMeHh7eAq8Xm/big/xIqG5u1NnDw8PDW+Dlrfo8qE3GsKrHTBQl4+Hh4S3zrkOEasGdfHK90LwBFk2T4eHh4R3iReNKxWMgWUTvyGmuHA8PD+8orxenVhtaedjRa7C93Ag8PDy8BV71tTsfLMgjj943v/kf4uHh4Y15P8WrGihU21rJdhdKeTw8PLwFXn7lo1TJWEA+PlUtypt4PDw8vCKvt7ikBdVrZZ0KR/Dw8PC2edUydxJAnO3gNUcH8PDw8G7hVWPcBJA/sReL4OHh4X2WV41Zk6MlL7vzv8HDw8O7hzePWfPhgzzImIcaeHh4eBu8vAGWl9ETWPUYODBGgIeHh5d+wy+QAFS5OpyIaAAAAABJRU5ErkJggg==">分享</a><div class="tags"><a href="/tags/学习笔记/">学习笔记</a><a href="/tags/服务器/">服务器</a></div><div class="post-nav"><a class="pre" href="/paper/滑动窗口问题/">滑动窗口问题</a></div></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" autocomplete="off" name="q" results="0"><div id="local-search-result"><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input class="ins-search-input" placeholder="Search" autocomplete="off" type="text" name="q" results="0"><button class="close ins-close ins-selectable" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/中间件/">中间件</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/">算法</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/规划/" style="font-size: 15px;">规划</a> <a href="/tags/LeetCode/" style="font-size: 15px;">LeetCode</a> <a href="/tags/学习笔记/" style="font-size: 15px;">学习笔记</a> <a href="/tags/服务器/" style="font-size: 15px;">服务器</a> <a href="/tags/分布式/" style="font-size: 15px;">分布式</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/paper/2019学习生活规划/">2019学习生活规划</a></li><li class="post-list-item"><a class="post-list-link" href="/paper/分布式锁的概念及实现/">分布式锁的概念及实现</a></li><li class="post-list-item"><a class="post-list-link" href="/paper/滑动窗口问题/">滑动窗口问题</a></li><li class="post-list-item"><a class="post-list-link" href="/paper/CentOS 7上nginx安装及相关配置/">CentOS 7上Nginx的安装及基本配置</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://github.com/SangeDong" title="SangeDong" target="_blank">SangeDong</a><ul></ul><a href="https://segmentfault.com/u/sange_dong" title="SegmentFault" target="_blank">SegmentFault</a><ul></ul><a href="https://juejin.im/user/5cde6c1b6fb9a07ede0b11a0" title="JueJin" target="_blank">JueJin</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018-2019 <a href="/." rel="nofollow">董先生 | </a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo | </a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>